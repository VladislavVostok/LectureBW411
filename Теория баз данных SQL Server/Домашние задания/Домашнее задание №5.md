
### Тема: Функции агрегирования.
#### Запросы:
1. Вывести количество преподавателей кафедры "Software Development".
2. Вывести количество лекций, которые читает преподаватель "Dave McQueen".
3. Вывести количество занятий, проводимых в аудитории"D201".
4. Вывести названия аудиторий и количество лекций, проводимых в них.
5. Вывести количество студентов, посещающих лекции преподавателя "Jack Underhill".
6. Вывести среднюю ставку преподавателей факультета "Computer Science".
7. Вывести минимальное и максимальное количество студентов среди всех групп.
8. Вывести средний фонд финансирования кафедр.
9. Вывести полные имена преподавателей и количество читаемых ими дисциплин.
10. Вывести количество лекций в каждый день недели.
11. Вывести номера аудиторий и количество кафедр, чьи лекции в них читаются.
12. Вывести названия факультетов и количество дисциплин,которые на них читаются.
13. Вывести количество лекций для каждой пары преподаватель-аудитория.
### Структура базы данных

![[5.1.jpeg]]

### Структура базы данных

База данных **Академия** (Academy) содержит информацию о сотрудниках, внутреннем устройстве академии и читаемых лекциях. 

Преподаватели, читающие лекции в академии представ- лены в виде таблицы **Преподаватели** (Teachers), в которой собрана основная информация, такая как: имя, фамилия и данные о зарплате. 

Также в базе данных присутствует информация о группах, хранимая в таблице **Группы** (Groups). Данные о факультетах и кафедрах содержатся в таблицах **Факультеты** (Faculties) и **Кафедры** (Departments) соответственно. 

Помимо этого, база данных хранит информацию, связанную с проводимыми лекциями. Расписание лекций содержится в таблице **Лекции** (Lectures), а описание дисциплин, по которым читаются лекции, в таблице **Дисциплины** (Subjects). 

### Таблицы

Ниже представлено детальное описание структуры каждой таблицы. 
1. **Кафедры** (Departments) 
	- **Идентификатор** (Id). Уникальный идентификатор кафедры. 
		- Тип данных - int
		- Авто приращение. 
		- Не может содержать null-значения. 
		- Первичный ключ.
	- **Финансирование** (Financing). Фонд финансирования кафедры.
		- Тип данных - int
		-  Не может содержать null-значения. 
		- Не может быть меньше 0. 
		- Значение по умолчанию - 0.
	- **Название** (Name). Название кафедры. 
		- Тип данных - nvarchar(100)
		- Не может содержать null-значения. 
		- Не может быть пустым. 
		- Должно быть уникальным. 
	- **Идентификатор факультета** (FacultyId). Факультет, в состав которого входит кафедра. 
		- Тип данных - int
		- Не может содержать null-значения. 
		- Внешний ключ. 2. 
		
2. **Факультеты** (Faculties) 
	- **Идентификатор** (Id). Уникальный идентификатор факультета.
		- Тип данных - int
		- Авто приращение. 
		- Не может содержать null-значения. 
		- Первичный ключ. 
	-  **Название** (Name). Название факультета. 
		- Тип данных - nvarchar(100)
		- Не может содержать null-значения. 
		- Не может быть пустым. 
		- Должно быть уникальным.
		
3. **Группы** (Groups)
	- **Идентификатор** (Id). Уникальный идентификатор группы. 
		- Тип данных - int
		- Авто приращение. 
		- Не может содержать null-значения. 
		- Первичный ключ. 
	- **Название** (Name). Название группы. 
		- Тип данных - nvarchar(10)
		- Не может содержать null-значения. 
		- Не может быть пустым. 
		- Должно быть уникальным. 
	- **Курс** (Year). Курс (год) на котором обучается группа. 
		- Тип данных - int
		- Не может содержать null-значения. 
		- Должно быть в диапазоне от 1 до 5. 
	- **Идентификатор кафедры** (DepartmentId). Кафедра, в со- став которой входит группа. 
		- Тип данных - int
		- Не может содержать null-значения. 
		- Внешний ключ.
		
4. **Группы и лекции** (GroupsLectures) 
	- **Идентификатор** (Id). Уникальный идентификатор группы и лекции. 
		- Тип данных - int
		-  Авто приращение. 
		- Не может содержать null-значения.
		- Первичный ключ.
	 - **Идентификатор группы** (GroupId). Группа. 
		- Тип данных - int
		 - Не может содержать null-значения. 
		 - Внешний ключ. 
	 - **Идентификатор лекции** (LectureId). Лекция. 
		- Тип данных - int
		 - Не может содержать null-значения. 
		 - Внешний ключ.
		 
5. **Лекции** (Lectures) 
	- **Идентификатор** (Id). Уникальный идентификатор лекции. 
		- Тип данных - int
		- Авто приращение. 
		- Не может содержать null-значения. 
		- Первичный ключ. 
	-  **День недели** (DayOfWeek). День недели, в который читается лекция. 
		- Тип данных - int
		- Не может содержать null-значения. 
		- Должен быть в диапазоне от 1 до 7. 
	- **Аудитория** (LectureRoom). Аудитория в которой читается лекция.
		- Тип данных - nvarchar(max)
		- Не может содержать null-значения. 
		- Не может быть пустым.
	- **Идентификатор дисциплины** (SubjectId). Дисциплина, по которой читается лекция. 
		- Тип данных - int
		- Не может содержать null-значения. 
		- Внешний ключ. 
	- **Идентификатор преподавателя** (TeacherId). Преподаватель, который читает лекцию. 
		- Тип данных - int
		- Не может содержать null-значения. 
		- Внешний ключ
		
6. **Дисциплины** (Subjects) 
	- **Идентификатор** (Id). Уникальный идентификатор дисциплины. 
		- Тип данных - int
		- Авто приращение. 
		- Не может содержать null-значения. 
		- Первичный ключ. 
	- **Название** (Name). Название дисциплины. 
		- Тип данных - nvarchar(100)
		- Не может содержать null-значения. 
		- Не может быть пустым. 
		- Должно быть уникальным.
		
7. **Преподаватели** (Teachers) 
	- **Идентификатор** (Id). Уникальный идентификатор преподавателя.
		- Тип данных - int
		- Авто приращение. 
		- Не может содержать null-значения. 
		- Первичный ключ. 
	- **Имя** (Name). Имя преподавателя. 
		- Тип данных - nvarchar(max)
		- Не может содержать null-значения. 
		- Не может быть пустым. 
	- **Ставка** (Salary). Ставка преподавателя. 
		- Тип данных - money
		- Не может содержать null-значения. 
		- Не может быть меньше либо равно 0. 
	- **Фамилия** (Surname). Фамилия преподавателя. 
		- Тип данных - nvarchar(max)
		- Не может содержать null-значения. 
		- Не может быть пустым.